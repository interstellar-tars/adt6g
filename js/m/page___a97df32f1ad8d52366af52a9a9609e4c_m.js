;// bundle: page___a97df32f1ad8d52366af52a9a9609e4c_m
;// files: SignupFormValidatorGeneric.old.js, Landing/BlueCity/AnimatedSignupFormValidator.js, Landing/BlueCity/AnimatedLoginFormValidator.js, FormValidator.js, CaptchaModal.js, Landing/BlueCity/Animation.js, Landing/BlueCity/Animated.js, GenericConfirmation.js

;// SignupFormValidatorGeneric.old.js
typeof Roblox=="undefined"&&(Roblox={});Roblox.SignupFormValidatorGeneric=function(){function n(n,t,i){return i<=0||n<=0||t<=0||t>new Date(i,n,0).getDate()}function t(n,t,i){return i!=0&&n!=0&&t!=0}function i(n,t){return $(n).length!=0||$(t).length!=0}function r(n){return n.length>20}function u(n){return n.length<3}function f(n){return!n.match(/^[a-zA-Z0-9]*$/)}function e(n){var t=function(n){return n.data==1?1:n.data==2?2:n.data==0?0:void 0},i=function(){};$.ajax({type:"GET",url:"/UserCheck/checkifinvalidusernameforsignup?username="+n,success:t,error:i})}function o(n,t){return t==""||n.length>0&&t!=""&&n==t}function s(n){return n.length>20}function h(n){return n.length<6}function c(n){return w(n)>3}function l(n){return b(n)>1}function a(n){return p(n)>0}function v(n,t){return n==t}function y(n){return(n=n.toLowerCase(),n.indexOf("asdf")>-1)?!0:n.indexOf("pass")>-1||n.indexOf("qwer")>-1||n.indexOf("zxcv")>-1||n.indexOf("aaaa")>-1||n.indexOf("zzzz")>-1?!0:!1}function p(n){var i=0,t;if(n==null||n=="")return 0;for(t=0;t<n.length;t++)n.charAt(t).match(/^\s$/)&&(i+=1);return i}function w(n){var i=0,t;if(n==null||n=="")return 0;for(t=0;t<n.length;t++)n.charAt(t).match(/^[A-Za-z]$/)&&(i+=1);return i}function b(n){var i=0,t;if(n==null||n=="")return 0;for(t=0;t<n.length;t++)n.charAt(t).match(/^[0-9]$/)&&(i+=1);return i}return{invalidBirthday:n,selectedBirthday:t,genderSelected:i,usernameTooLong:r,usernameTooShort:u,usernameRegexInvalid:f,usernameInvalid:e,passwordTooLong:s,passwordTooShort:h,passwordEnoughLetters:c,passwordEnoughNumbers:l,passwordContainsSpaces:a,passwordIsUsername:v,passwordsMatch:o,weakPassword:y}}();

;// Landing/BlueCity/AnimatedSignupFormValidator.js
typeof Roblox=="undefined"&&(Roblox={});Roblox.AnimatedSignupFormValidator=function(){function n(n){var t=parseInt($("#lstMonths option:selected").val()),i=parseInt($("#lstDays option:selected").val()),r=parseInt($("#lstYears option:selected").val());return Roblox.SignupFormValidatorGeneric.invalidBirthday(t,i,r)?(n&&(Roblox.SignupFormValidatorGeneric.selectedBirthday(t,i,r)?$("#birthdayError").html(Roblox.Resources.AnimatedSignupFormValidator.invalidBirthday):$("#birthdayError").html(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#birthdayError").show(),$("#birthdayText").addClass("error"),$("#birthdayGood").hide()),!1):($("#birthdayGood").show(),$("#birthdayError").hide(),$("#birthdayText").removeClass("error"),!0)}function t(){var n=$("#MaleBtn:checked"),t=$("#FemaleBtn:checked");return Roblox.SignupFormValidatorGeneric.genderSelected(n,t)?($("#genderGood").show(),$("#genderError").hide(),$("#genderText").removeClass("error"),!0):($("#genderError").text(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#genderError").show(),$("#genderGood").hide(),$("#genderText").addClass("error"),!1)}function u(){var t=$("#username").val(),n;if(t.length==0){$("#usernameGood").hide();$("#usernameError").show();$("#usernameText").removeClass("error");return}n=f(t);n!=""?($("#usernameError").html(n),$("#usernameError").show(),$("#usernameText").addClass("error")):($("#usernameError").hide(),$("#usernameText").removeClass("error"),e())}function f(n){var t="";return Roblox.SignupFormValidatorGeneric.usernameTooLong(n)&&(t=Roblox.Resources.AnimatedSignupFormValidator.tooLong),Roblox.SignupFormValidatorGeneric.usernameTooShort(n)&&(t=Roblox.Resources.AnimatedSignupFormValidator.tooShort),Roblox.SignupFormValidatorGeneric.usernameRegexInvalid(n)&&(t=Roblox.Resources.AnimatedSignupFormValidator.invalidName),t}function e(){var n=$("#username").val(),t=function(n){n.data==1?($("#usernameError").html(Roblox.Resources.AnimatedSignupFormValidator.alreadyTaken),$("#usernameError").show(),$("#usernameText").addClass("error"),$("#usernameGood").hide()):n.data==2?($("#usernameError").html(Roblox.Resources.AnimatedSignupFormValidator.cantBeUsed),$("#usernameError").show(),$("#usernameText").addClass("error"),$("#usernameGood").hide()):n.data==0&&($("#usernameError").hide(),$("#usernameText").removeClass("error"),$("#usernameGood").show())},i=function(){};$.ajax({type:"GET",url:"/UserCheck/checkifinvalidusernameforsignup?username="+n,success:t,error:i})}function o(){var t=$("#password").val(),r=$("#username").val(),n;if(i(),$("#password").val().length==0){$("#passwordError").hide();$("#passwordGood").hide();$("#passwordText").removeClass("error");return}n=s(t,r);n!=""?($("#passwordError").html(n),$("#passwordError").show(),$("#passwordText").addClass("error"),$("#passwordGood").hide()):($("#passwordError").hide(),$("#passwordText").removeClass("error"),$("#passwordGood").show())}function i(){var n=$("#password").val(),t=$("#passwordConfirm").val();if($("#passwordError").css("display")!="none"||t==""||n==""){$("#passwordConfirmGood").hide();$("#passwordConfirmError").hide();$("#passwordConfirmText").removeClass("error");return}Roblox.SignupFormValidatorGeneric.passwordsMatch(n,t)?($("#passwordConfirmGood").show(),$("#passwordConfirmError").hide(),$("#passwordConfirmText").removeClass("error")):($("#passwordConfirmError").html(Roblox.Resources.AnimatedSignupFormValidator.doesntMatch),$("#passwordConfirmError").show(),$("#passwordConfirmText").addClass("error"),$("#passwordConfirmGood").hide())}function s(n,t){var i="";return Roblox.SignupFormValidatorGeneric.passwordTooLong(n)?i=Roblox.Resources.AnimatedSignupFormValidator.tooLong:Roblox.SignupFormValidatorGeneric.passwordTooShort(n)?i=Roblox.Resources.AnimatedSignupFormValidator.tooShort:(Roblox.SignupFormValidatorGeneric.passwordEnoughLetters(n)||(i=Roblox.Resources.AnimatedSignupFormValidator.needsFourLetters),Roblox.SignupFormValidatorGeneric.passwordEnoughNumbers(n)||(i=Roblox.Resources.AnimatedSignupFormValidator.needsTwoNumbers),Roblox.SignupFormValidatorGeneric.passwordContainsSpaces(n)&&(i=Roblox.Resources.AnimatedSignupFormValidator.noSpaces)),Roblox.SignupFormValidatorGeneric.weakPassword(n)&&(i=Roblox.Resources.AnimatedSignupFormValidator.weakKey),Roblox.SignupFormValidatorGeneric.passwordIsUsername(n,t)&&(i=Roblox.Resources.AnimatedSignupFormValidator.invalidName),i}function h(){var u=n(!0),f=t(),e=c(),o=$("#usernameError").css("display")=="none",s=$("#passwordError").css("display")=="none"&&$("#passwordConfirmError").css("display")=="none",i=!0,h=r();return($("#email").length>0&&(Roblox.FormValidator.validateElementRegex($("#email"))||(i=!1)),u&&f&&e&&s&&o&&i&&h)?!0:!1}function c(){var n=!0;return $("#password").val().length==0&&($("#passwordError").html(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#passwordError").show(),$("#passwordText").addClass("error"),n=!1),$("#passwordConfirm").val().length==0&&($("#passwordConfirmError").html(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#passwordConfirmError").show(),$("#passwordConfirmText").addClass("error"),n=!1),$("#username").val().length==0&&($("#usernameError").html(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#usernameError").show(),$("#usernameText").addClass("error"),n=!1),$("#email").length>0&&$("#email").val().length==0&&($("#emailError").html(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#emailError").show(),$("#emailText").addClass("error"),n=!1),n}function r(){var n=!0;return $("#WomAttributionSectionTest").length&&$('input[name="womAttribution"]').length&&(n=$('input[name="womAttribution"]:checked').length,n?($("#womAttributionError").hide(),$("#womAttributionText").removeClass("error"),$("#womAttributionGood").show()):($("#womAttributionError").text(Roblox.Resources.AnimatedSignupFormValidator.requiredField),$("#womAttributionGood").hide(),$("#womAttributionError").show(),$("#womAttributionText").addClass("error"))),n}return $("#email").keyup(function(){if($(this).val().length==0){$("#emailText").removeClass("error");$("#emailGood").hide();$("#emailError").hide();return}Roblox.FormValidator.validateElementRegex($(this))?($("#emailError").hide(),$("#emailText").removeClass("error"),$("#emailGood").show()):($("#emailError").html(Roblox.Resources.AnimatedSignupFormValidator.invalidEmail),$("#emailGood").hide(),$("#emailError").show(),$("#emailText").addClass("error"))}),{checkBirthday:n,checkGender:t,checkUsername:u,checkPassword:o,checkPasswordConfirm:i,checkWomAttributionTest:r,validateForm:h}}();

;// Landing/BlueCity/AnimatedLoginFormValidator.js
typeof Roblox=="undefined"&&(Roblox={});Roblox.AnimatedLoginFormValidator=function(){function n(){var n=$("#loginUsername"),t=$("#loginPassword");return n.val().length==0||t.val().length==0?($("#login-error").html(Roblox.Resources.AnimatedSignupFormValidator.loginFieldsRequired),$("#login-error").show(),!1):($("#login-error").hide(),!0)}return{validateLoginForm:n}}();

;// FormValidator.js
typeof Roblox=="undefined"&&(Roblox={});Roblox.FormValidator=function(){function n(n){var i=$(n).data("regex"),r=$(n).val();return t(r,i)}function t(n,t){if(typeof n=="undefined"||typeof t=="undefined")return!1;var i=new RegExp(t,"i");return i.test(n)}return{validateElementRegex:n}}();

;// CaptchaModal.js
Roblox=Roblox||{};Roblox.Resources=Roblox.Resources||{};Roblox.Resources.CaptchaModal={title:"Are you human?",message:"To finish, please verify that you are human.",captchaEmptyMessage:"The CAPTCHA field should not be empty, please fill it.",captchaErrorMessage:"The CAPTCHA you entered is invalid. Please try again.",finish:"Finish"};Roblox.CaptchaModal=function(){"use strict";function t(t){function r(){i.hide();i.appendTo(t)}function u(){Roblox.GenericConfirmation.disableButtons();t.find(n).remove();i.hide();i.appendTo(t);i.removeClass("roblox-captcha-modal");t.submit()}function f(){var r=$(".ConfirmationModal"),o=r.find("#roblox-decline-btn"),u,f,e;o.hide();u=r.find("#roblox-confirm-btn");u.addClass("btn-large").addClass("btn-primary");u.width("200px");f=r.find(".TopBody");i.length==0&&(i=t.find(n));i.css("position","relative");i.css("left","50%");i.css("margin-left","-159px");i.css("padding-top","5px");i.appendTo(f);i.show();e=r.find(".Message");e.css("top","0")}var i=t.find(n);if(typeof Roblox.GenericConfirmation=="undefined"){i.remove();t.submit();return}Roblox.GenericConfirmation.open({titleText:Roblox.Resources.CaptchaModal.title,bodyContent:Roblox.Resources.CaptchaModal.message,allowHtmlContentInBody:!0,acceptColor:Roblox.GenericConfirmation.green,acceptText:Roblox.Resources.CaptchaModal.finish,dismissable:!1,xToCancel:!0,onAccept:u,onCancel:r,onOpenCallback:f})}function i(t){return t.find(n).length!=0}var n=".roblox-captcha-modal";return{Create:t,FormNeedsCaptcha:i}}();$(function(){$("form").submit(function(n){"use strict";var t=$(this);Roblox.CaptchaModal.FormNeedsCaptcha(t)&&(n.preventDefault(),Roblox.CaptchaModal.Create(t))})});

;// Landing/BlueCity/Animation.js
var Animator=function(){if(!(this instanceof Animator))return new Animator;var n=this;this.init=function(t,i,r,u,f,e){return n.properties=t,n.onUpdate=i,n.frames=r,n.fps=u,n.finiteLoops=f,n.loops=e,n.currentFrame=0,n.currentLoop=0,n};this.restart=function(){n.currentFrame=0;n.currentLoop=0;n.start()};this.start=function(){n.intervalId=setInterval(n.animate,1e3/n.fps)};this.stop=function(){clearInterval(n.intervalId)};this.animate=function(){n.onUpdate(n.currentFrame,n.properties);n.currentFrame++;n.currentFrame>=n.frames&&n.finiteLoops?(n.currentLoop++,n.currentFrame=0):n.currentFrame%n.frames==0&&(n.currentLoop++,n.currentFrame=0);n.currentLoop>=n.loops&&n.finiteLoops&&n.stop()}};

;// Landing/BlueCity/Animated.js
$(function(){function r(n,t){t.xpos=-.71*n;t.logo.css("background-position",t.xpos+"px 0")}function u(n,t){t.xpos=-.35*n;t.logo.css("background-position",t.xpos+"px 0")}function n(){$("#animated-signup").show();$("#animated-login").hide();$("#animated-tab-signup").addClass("animated-tab-selected");$("#animated-tab-login").removeClass("animated-tab-selected")}function t(){$("#animated-login").show();$("#animated-signup").hide();$("#animated-tab-login").addClass("animated-tab-selected");$("#animated-tab-signup").removeClass("animated-tab-selected")}var f={xpos:0,logo:$("#Container")},e={xpos:0,logo:$("body")},o=$("#Experimental").data("is-animated")=="True",i;o&&((new Animator).init(f,r,1e4,60,!1,0).start(),(new Animator).init(e,u,2e4,60,!1,0).start());$("#UserName,#Password,#PasswordConfirm,#SignUpButton").keypress(function(n){n.which=="13"&&Roblox.AnimatedSignupFormValidator.validateForm()&&$("#SignUpButton").click()});$("#UserName").blur(Roblox.AnimatedSignupFormValidator.checkUsername);$("#animated-tab-login").click(function(){t()});$("#animated-tab-signup").click(function(){n()});i=$("#animated-wrapper").data("first-visit");i=="True"?n():t();$("#loginUsername,#loginPassword").keypress(function(n){n.which=="13"&&Roblox.AnimatedLoginFormValidator.validateLoginForm()&&$("#login-button").click()});$("#login-button").click(function(){Roblox.AnimatedLoginFormValidator.validateLoginForm()&&$("#login-form").submit()})});

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={});typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function y(){n.isOpen=!1;r()}function p(r){var a,e,o,s,l;n.isOpen=!0;a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}};r=$.extend({},a,r);h.overlayClose=r.dismissable;h.escClose=r.dismissable;e=$(t);e.html(r.acceptText);e.attr("class","btn-large "+r.acceptColor);e.unbind();e.bind("click",function(){return v(e)?!1:(r.fieldValidationRequired?g(r.onAccept):c(r.onAccept),!1)});o=$(i);o.html(r.declineText);o.attr("class","btn-large "+r.declineColor);o.unbind();o.bind("click",function(){return v(o)?!1:(c(r.onDecline),!1)});$('[data-modal-handle="confirmation"] div.Title').text(r.titleText);s=$("[data-modal-handle='confirmation']");r.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",r.imageUrl),s.removeClass("noImage"));r.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(r.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(r.bodyContent);$.trim(r.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show();r.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(r.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(r.footerText);$("[data-modal-handle='confirmation']").modal(h);l=$("a.genericmodal-close");l.unbind();l.bind("click",function(){return c(r.onCancel),!1});r.xToCancel||l.hide();r.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function w(){var n=$(t),r=$(i);a(n);a(r)}function b(){var r=$(t),u=$(i),n=o+" "+s+" "+e;r.removeClass(n);u.removeClass(n)}function k(){if(n.isOpen){var i=$(t);i.click()}}function d(){var n=$(i);n.click()}function r(t){n.isOpen=!1;typeof t!="undefined"?$.modal.close(t):$.modal.close()}function c(n){r();typeof n=="function"&&n()}function g(n){if(typeof n=="function"){var t=n();if(t!=="undefined"&&t==!1)return!1}r()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",t="#roblox-confirm-btn",i="#roblox-decline-btn",n={isOpen:!1},h={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:y};return{open:p,close:r,disableButtons:w,enableButtons:b,clickYes:k,clickNo:d,status:n,green:l,blue:u,gray:f,none:"btn-none"}}());$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});
